<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.9 Chrome/134.0.6998.205 Electron/35.4.0 Safari/537.36" version="27.0.9" pages="2">
  <diagram name="basic-search-flow" id="5jVUsGdLiQ2pN4RaoDW4">
    <mxGraphModel dx="1042" dy="626" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="YAMFlz2wYwY6W18rWxxw-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="wJlEnv_qPLAFiXEgRfv5-6" target="wJlEnv_qPLAFiXEgRfv5-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wJlEnv_qPLAFiXEgRfv5-6" value="v1/restaurants/search" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=api" vertex="1" parent="1">
          <mxGeometry x="170" y="40" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="wJlEnv_qPLAFiXEgRfv5-7" target="YAMFlz2wYwY6W18rWxxw-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wJlEnv_qPLAFiXEgRfv5-7" value="mailson-pereira-tech-assessment service" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.android;fillColor=#EE472A;gradientColor=none;" vertex="1" parent="1">
          <mxGeometry x="380" y="22" width="73.5" height="84" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="YAMFlz2wYwY6W18rWxxw-1" target="YAMFlz2wYwY6W18rWxxw-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-1" value="validate search params" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="335.12" y="230" width="163.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-5" value="&lt;div&gt;query params:&lt;/div&gt;restaurantName&lt;div&gt;distance&lt;/div&gt;&lt;div&gt;customerRating&lt;/div&gt;&lt;div&gt;price&lt;/div&gt;&lt;div&gt;cuisineName&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="120" width="100" height="90" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-8" value="&lt;h1 style=&quot;color: rgb(0, 0, 0); text-align: left; margin-top: 0px; line-height: 24px;&quot;&gt;&lt;span style=&quot;font-size: 10px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-weight: normal;&quot;&gt;restaurantName and cuisineName are not validated, will be considered in the search only if have values&lt;/span&gt;&lt;/h1&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-size: 12px; text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); line-height: 12px;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;distance, customerRating and price, fllows the validation rules of maximum and mininum given on the briefing&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="shape=note;strokeWidth=2;fontSize=14;size=20;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#666600;" vertex="1" parent="1">
          <mxGeometry x="520" y="200" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="YAMFlz2wYwY6W18rWxxw-10" target="YAMFlz2wYwY6W18rWxxw-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-10" value="build dynamic SQL with the parameters sent on the request" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="335.12" y="410" width="163.25" height="50" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="YAMFlz2wYwY6W18rWxxw-13" target="wJlEnv_qPLAFiXEgRfv5-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YAMFlz2wYwY6W18rWxxw-13" value="return list with restaurants or empty list in case none restaurant was found" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="113.36999999999999" y="410" width="163.25" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="security-search-flow" id="J-4wcHRxwTNa9I95UtPH">
    <mxGraphModel dx="1042" dy="626" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="_5Z3uHIzTDkYja-eJro8-0" />
        <mxCell id="_5Z3uHIzTDkYja-eJro8-1" parent="_5Z3uHIzTDkYja-eJro8-0" />
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="_5Z3uHIzTDkYja-eJro8-1" source="_5Z3uHIzTDkYja-eJro8-2" target="_5Z3uHIzTDkYja-eJro8-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_5Z3uHIzTDkYja-eJro8-2" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="_5Z3uHIzTDkYja-eJro8-1" vertex="1">
          <mxGeometry x="30" y="220" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_5Z3uHIzTDkYja-eJro8-3" value="site" style="shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#4495D1;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam.2d.web_ui;" parent="_5Z3uHIzTDkYja-eJro8-1" vertex="1">
          <mxGeometry x="193.4" y="185" width="44.8" height="42.4" as="geometry" />
        </mxCell>
        <mxCell id="_5Z3uHIzTDkYja-eJro8-4" value="mobile app" style="html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.smartphone;" parent="_5Z3uHIzTDkYja-eJro8-1" vertex="1">
          <mxGeometry x="193.4" y="305" width="18" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.033;entryY=0.547;entryDx=0;entryDy=0;entryPerimeter=0;" parent="_5Z3uHIzTDkYja-eJro8-1" source="_5Z3uHIzTDkYja-eJro8-2" target="_5Z3uHIzTDkYja-eJro8-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-2" value="Infrastructure security layer" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="_5Z3uHIzTDkYja-eJro8-1" vertex="1">
          <mxGeometry x="470" y="10" width="1160" height="410" as="geometry" />
        </mxCell>
        <mxCell id="_5Z3uHIzTDkYja-eJro8-6" value="mailson-pereira-tech-assessment service" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.android;fillColor=#EE472A;gradientColor=none;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="740" y="207" width="73.5" height="84" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="NJIHuzkjTgpUsEg7PMPQ-2" source="_5Z3uHIzTDkYja-eJro8-5" target="_5Z3uHIzTDkYja-eJro8-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_5Z3uHIzTDkYja-eJro8-5" value="v1/restaurants/search" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=api" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="550" y="225" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="NJIHuzkjTgpUsEg7PMPQ-2" source="NJIHuzkjTgpUsEg7PMPQ-3" target="NJIHuzkjTgpUsEg7PMPQ-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-3" value="secure gateway" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="110" y="210" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-4" value="we can have routes and specific permissions to the each route" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="64" y="318" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="NJIHuzkjTgpUsEg7PMPQ-2" source="NJIHuzkjTgpUsEg7PMPQ-11" target="_5Z3uHIzTDkYja-eJro8-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-11" value="back-for-front-service" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.android;fillColor=#EE472A;gradientColor=none;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="318.25" y="207" width="73.5" height="84" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-15" value="as an extra security layer, we can use AWS Cognito and Spring Security, to consume the API needs to get&amp;nbsp; valid token&lt;div&gt;In my personal opinion, once the infrastructure and gateway are both with strong security layer, Cognito will not be needed, simplify the consume for other services&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="942" y="240" width="198" height="140" as="geometry" />
        </mxCell>
        <mxCell id="RY9VUykvdS4jIBUjSlOp-0" value="&lt;div style=&quot;line-height: 0%;&quot;&gt;&lt;h1 style=&quot;color: rgb(0, 0, 0); text-align: left; margin-top: 0px;&quot;&gt;&lt;span style=&quot;font-size: 10px; font-weight: 400;&quot;&gt;the search flow is the same&amp;nbsp;&lt;/span&gt;&lt;/h1&gt;&lt;h1 style=&quot;color: rgb(0, 0, 0); text-align: left; margin-top: 0px;&quot;&gt;&lt;span style=&quot;font-size: 10px; font-weight: 400;&quot;&gt;at &quot;basic search flow&quot; tab&lt;/span&gt;&lt;/h1&gt;&lt;/div&gt;" style="shape=note;strokeWidth=2;fontSize=14;size=20;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#666600;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="693.38" y="330" width="166.75" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RY9VUykvdS4jIBUjSlOp-1" value="cognito-service" style="sketch=0;points=[[0.015,0.015,0],[0.985,0.015,0],[0.985,0.985,0],[0.015,0.985,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0.25,0],[1,0.5,0],[1,0.75,0],[0.75,1,0],[0.5,1,0],[0.25,1,0],[0,0.75,0],[0,0.5,0],[0,0.25,0]];verticalLabelPosition=bottom;html=1;verticalAlign=top;aspect=fixed;align=center;pointerEvents=1;shape=mxgraph.cisco19.rect;prIcon=cognitive;fillColor=#FAFAFA;strokeColor=#005073;" parent="NJIHuzkjTgpUsEg7PMPQ-2" vertex="1">
          <mxGeometry x="1000" y="153" width="64" height="50" as="geometry" />
        </mxCell>
        <mxCell id="RY9VUykvdS4jIBUjSlOp-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="NJIHuzkjTgpUsEg7PMPQ-2" source="_5Z3uHIzTDkYja-eJro8-6" target="RY9VUykvdS4jIBUjSlOp-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="_5Z3uHIzTDkYja-eJro8-1" source="_5Z3uHIzTDkYja-eJro8-3" target="NJIHuzkjTgpUsEg7PMPQ-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="206" />
              <mxPoint x="400" y="259" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NJIHuzkjTgpUsEg7PMPQ-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;" parent="_5Z3uHIzTDkYja-eJro8-1" source="_5Z3uHIzTDkYja-eJro8-4" target="NJIHuzkjTgpUsEg7PMPQ-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="j5CnVJUWbpTIfoEWSA_F-4" value="devices layer security" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="_5Z3uHIzTDkYja-eJro8-1">
          <mxGeometry x="110" y="10" width="310" height="410" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
